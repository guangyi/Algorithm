<!DOCTYPE html>
<html>
  <head>
    <title>Listing 4.16</title>
    <script type="text/javascript" src="../scripts/assert.js"></script>
    <link href="../styles/assert.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="add-method.js"></script>
  </head>

  <body>
    <script type="text/javascript">

      var ninjas = {                                                    //#1
       values: ["Dean Edwards", "Sam Stephenson", "Alex Russell"]
      };
/*
      addMethod(ninjas, "find", function(){                             //#2
        return this.values;
      });

      addMethod(ninjas, "find", function(name){                         //#3
        var ret = [];
        for (var i = 0; i < this.values.length; i++)
          if (this.values[i].indexOf(name) == 0)
            ret.push(this.values[i]);
        return ret;
      });

      addMethod(ninjas, "find", function(first, last){                 //#4
        var ret = [];
        for (var i = 0; i < this.values.length; i++)
          if (this.values[i] == (first + " " + last))
            ret.push(this.values[i]);
        return ret;
      });

      assert(ninjas.find().length == 3,                                //#5
             "Found all ninjas");
      assert(ninjas.find("Sam").length == 1,
             "Found ninja by first name");
      assert(ninjas.find("Dean", "Edwards").length == 1,
             "Found ninja by first and last name");
      assert(ninjas.find("Alex", "Russell", "Jr") == null,
             "Found nothing");
*/
      var test = {};
      addMethod(test, 'alerts',function(){alert('1Hi!')});
      addMethod(test,'alerts',function(a){alert(a)});
      addMethod(test,'alerts',function(a,b ){alert(a + b)});
      console.log(test.alerts);
      //test.alerts();
      test.alerts('2BBB');
      test.alerts('3ccc','4ddd');
      test.alerts();
      test.alerts('5d','6e');
      
function sendQuery(query) {
  $.get(query,function(data) {
    //do somehting 
  });
}

var id;
$('input').keyup(function() {
  clearTimeout(id);
  // get input value
  var query = '/search?query=' + this.val(); 
  id = setTimeout(sendQuery, query, 600);
});
    </script>
  </body>
</html>
